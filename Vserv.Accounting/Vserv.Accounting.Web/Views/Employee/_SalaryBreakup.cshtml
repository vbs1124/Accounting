<div class="row form-horizontal">
    <div class="col-md-12">
        <div class="form-group">
            <div class="col-md-8">
                &nbsp;
            </div>
            <label for="" class="col-md-2 control-label">Financial Year</label>
            <div class="col-md-2">
                <select class="form-control" ng-model="vm.selectedFinancialYear" ng-change="onChangeFinancialYear()">
                    <option ng-repeat="x in vm.financialYears" value="{{x.currentYear}}">{{x.financialYear}}</option>
                </select>
            </div>
        </div>
    </div>
</div>
<div class="row" ng-show="vm.employeePaySheet.length > 0 ">
    <div class="col-lg-12">
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr class="success">
                        <th>&nbsp;</th>
                        <th>April</th>
                        <th>May</th>
                        <th>June</th>
                        <th>July</th>
                        <th>August</th>
                        <th>September</th>
                        <th>October</th>
                        <th>November</th>
                        <th>December</th>
                        <th>January</th>
                        <th>February</th>
                        <th>March</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody ng-repeat="item in vm.employeePaySheet">
                    <tr class="active" ng-show="item.SCDescription=='Medical'">
                        <td colspan="14">
                           <strong>Reimbursments:</strong>
                        </td>
                    </tr>
                    <tr ng-hide="item.SCCode=='SCSPCL' || item.SCCode=='SCFCPN'">
                        <td class="text-right"><strong>{{item.SCDescription}}</strong></td>
                        <td>
                            <a href="#" buttons="no" ng-show="isEditableColumn(item.SCCode)" editable-text="item.April.Amount">{{ item.April.Amount | currency:'&#8377;':0}}</a>
                            <span ng-show="isEditableColumn(item.SCCode)==false" ng-bind="item.April.Amount | currency:'&#8377;':0"></span>
                        </td>
                        <td>
                            <a href="#" buttons="no" ng-show="isEditableColumn(item.SCCode)" editable-text="item.May.Amount">{{ item.May.Amount | currency:'&#8377;':0}}</a>
                            <span ng-show="isEditableColumn(item.SCCode)==false" ng-bind="item.May.Amount | currency:'&#8377;':0"></span>
                        </td>
                        <td>
                            <a href="#" buttons="no" ng-show="isEditableColumn(item.SCCode)" editable-text="item.June.Amount">{{ item.June.Amount | currency:'&#8377;':0}}</a>
                            <span ng-show="isEditableColumn(item.SCCode)==false" ng-bind="item.June.Amount | currency:'&#8377;':0"></span>
                        </td>
                        <td>
                            <a href="#" buttons="no" ng-show="isEditableColumn(item.SCCode)" editable-text="item.July.Amount">{{ item.July.Amount | currency:'&#8377;':0}}</a>
                            <span ng-show="isEditableColumn(item.SCCode)==false" ng-bind="item.July.Amount | currency:'&#8377;':0"></span>
                        </td>
                        <td>
                            <a href="#" buttons="no" ng-show="isEditableColumn(item.SCCode)" editable-text="item.August.Amount">{{ item.August.Amount | currency:'&#8377;':0}}</a>
                            <span ng-show="isEditableColumn(item.SCCode)==false" ng-bind="item.August.Amount | currency:'&#8377;':0"></span>
                        </td>
                        <td>
                            <a href="#" buttons="no" ng-show="isEditableColumn(item.SCCode)" editable-text="item.September.Amount">{{ item.September.Amount | currency:'&#8377;':0}}</a>
                            <span ng-show="isEditableColumn(item.SCCode)==false" ng-bind="item.September.Amount | currency:'&#8377;':0"></span>
                        </td>
                        <td>
                            <a href="#" buttons="no" ng-show="isEditableColumn(item.SCCode)" editable-text="item.October.Amount">{{ item.October.Amount | currency:'&#8377;':0}}</a>
                            <span ng-show="isEditableColumn(item.SCCode)==false" ng-bind="item.October.Amount | currency:'&#8377;':0"></span>
                        </td>
                        <td>
                            <a href="#" buttons="no" ng-show="isEditableColumn(item.SCCode)" editable-text="item.November.Amount">{{ item.November.Amount | currency:'&#8377;':0}}</a>
                            <span ng-show="isEditableColumn(item.SCCode)==false" ng-bind="item.November.Amount | currency:'&#8377;':0"></span>
                        </td>
                        <td>
                            <a href="#" buttons="no" ng-show="isEditableColumn(item.SCCode)" editable-text="item.December.Amount">{{ item.December.Amount | currency:'&#8377;':0}}</a>
                            <span ng-show="isEditableColumn(item.SCCode)==false" ng-bind="item.December.Amount | currency:'&#8377;':0"></span>
                        </td>
                        <td>
                            <a href="#" buttons="no" ng-show="isEditableColumn(item.SCCode)" editable-text="item.January.Amount">{{ item.January.Amount | currency:'&#8377;':0}}</a>
                            <span ng-show="isEditableColumn(item.SCCode)==false" ng-bind="item.January.Amount | currency:'&#8377;':0"></span>
                        </td>
                        <td>
                            <a href="#" buttons="no" ng-show="isEditableColumn(item.SCCode)" editable-text="item.February.Amount">{{ item.February.Amount | currency:'&#8377;':0}}</a>
                            <span ng-show="isEditableColumn(item.SCCode)==false" ng-bind="item.February.Amount | currency:'&#8377;':0"></span>
                        </td>
                        <td>
                            <a href="#" buttons="no" ng-show="isEditableColumn(item.SCCode)" editable-text="item.March.Amount">{{ item.March.Amount | currency:'&#8377;':0}}</a>
                            <span ng-show="isEditableColumn(item.SCCode)==false" ng-bind="item.March.Amount | currency:'&#8377;':0"></span>
                        </td>
                        <td class="text-bold"><span ng-bind="getCurrentComponentTotal(item) | currency:'&#8377;':0"></span></td>
                    </tr>
                    <tr ng-show="item.SCCode=='SCFCPN'">
                        <td class="text-right"><strong>{{item.SCDescription}}</strong></td>
                        <td>
                            <a href="#" editable-select="item.April.Amount" buttons="no" e-ng-options="s.value as s.text for s in foodCoupons">
                                {{ item.April.Amount | currency:'&#8377;':0}}
                            </a>
                        </td>
                        <td>
                            <a href="#" editable-select="item.May.Amount" buttons="no" e-ng-options="s.value as s.text for s in foodCoupons">
                                {{ item.May.Amount | currency:'&#8377;':0}}
                            </a>
                        </td>
                        <td>
                            <a href="#" editable-select="item.June.Amount" buttons="no" e-ng-options="s.value as s.text for s in foodCoupons">
                                {{ item.June.Amount | currency:'&#8377;':0}}
                            </a>
                        </td>
                        <td>
                            <a href="#" editable-select="item.July.Amount" buttons="no" e-ng-options="s.value as s.text for s in foodCoupons">
                                {{ item.July.Amount | currency:'&#8377;':0}}
                            </a>
                        </td>
                        <td>
                            <a href="#" editable-select="item.August.Amount" buttons="no" e-ng-options="s.value as s.text for s in foodCoupons">
                                {{ item.August.Amount | currency:'&#8377;':0}}
                            </a>
                        </td>
                        <td>
                            <a href="#" editable-select="item.September.Amount" buttons="no" e-ng-options="s.value as s.text for s in foodCoupons">
                                {{ item.September.Amount | currency:'&#8377;':0}}
                            </a>
                        </td>
                        <td>
                            <a href="#" editable-select="item.October.Amount" buttons="no" e-ng-options="s.value as s.text for s in foodCoupons">
                                {{ item.October.Amount | currency:'&#8377;':0}}
                            </a>
                        </td>
                        <td>
                            <a href="#" editable-select="item.November.Amount" buttons="no" e-ng-options="s.value as s.text for s in foodCoupons">
                                {{ item.November.Amount | currency:'&#8377;':0}}
                            </a>
                        </td>
                        <td>
                            <a href="#" editable-select="item.December.Amount" buttons="no" e-ng-options="s.value as s.text for s in foodCoupons">
                                {{ item.December.Amount | currency:'&#8377;':0}}
                            </a>
                        </td>
                        <td>
                            <a href="#" editable-select="item.January.Amount" buttons="no" e-ng-options="s.value as s.text for s in foodCoupons">
                                {{ item.January.Amount | currency:'&#8377;':0}}
                            </a>
                        </td>
                        <td>
                            <a href="#" editable-select="item.February.Amount" buttons="no" e-ng-options="s.value as s.text for s in foodCoupons">
                                {{ item.February.Amount | currency:'&#8377;':0}}
                            </a>
                        </td>
                        <td>
                            <a href="#" editable-select="item.March.Amount" buttons="no" e-ng-options="s.value as s.text for s in foodCoupons">
                                {{ item.March.Amount | currency:'&#8377;':0}}
                            </a>
                        </td>
                        <td class="text-bold"><span ng-bind="getCurrentComponentTotal(item) | currency:'&#8377;':0"></span></td>
                    </tr>
                    <tr ng-show="item.SCCode=='SCSPCL'">
                        <td class="text-right"><strong>{{item.SCDescription}}</strong></td>
                        <td>{{vm.employeePaySheet|specialAllowanceByMonth:'April' | currency:'&#8377;':0}}</td>
                        <td>{{vm.employeePaySheet|specialAllowanceByMonth:'May' | currency:'&#8377;':0}}</td>
                        <td>{{vm.employeePaySheet|specialAllowanceByMonth:'June' | currency:'&#8377;':0}}</td>
                        <td>{{vm.employeePaySheet|specialAllowanceByMonth:'July' | currency:'&#8377;':0}}</td>
                        <td>{{vm.employeePaySheet|specialAllowanceByMonth:'August' | currency:'&#8377;':0}}</td>
                        <td>{{vm.employeePaySheet|specialAllowanceByMonth:'September' | currency:'&#8377;':0}}</td>
                        <td>{{vm.employeePaySheet|specialAllowanceByMonth:'October' | currency:'&#8377;':0}}</td>
                        <td>{{vm.employeePaySheet|specialAllowanceByMonth:'November' | currency:'&#8377;':0}}</td>
                        <td>{{vm.employeePaySheet|specialAllowanceByMonth:'December' | currency:'&#8377;':0}}</td>
                        <td>{{vm.employeePaySheet|specialAllowanceByMonth:'January' | currency:'&#8377;':0}}</td>
                        <td>{{vm.employeePaySheet|specialAllowanceByMonth:'February' | currency:'&#8377;':0}}</td>
                        <td>{{vm.employeePaySheet|specialAllowanceByMonth:'March' | currency:'&#8377;':0}}</td>
                        <td class="text-bold">{{getCurrentComponentTotal(item) | currency:'&#8377;':0}}</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr class="success">
                        <th>Total</th>
                        <th>{{vm.employeePaySheet|sumByMonth:'April' | currency:'&#8377;':0}}</th>
                        <th>{{vm.employeePaySheet|sumByMonth:'May' | currency:'&#8377;':0}}</th>
                        <th>{{vm.employeePaySheet|sumByMonth:'June' | currency:'&#8377;':0}}</th>
                        <th>{{vm.employeePaySheet|sumByMonth:'July' | currency:'&#8377;':0}}</th>
                        <th>{{vm.employeePaySheet|sumByMonth:'August' | currency:'&#8377;':0}}</th>
                        <th>{{vm.employeePaySheet|sumByMonth:'September' | currency:'&#8377;':0}}</th>
                        <th>{{vm.employeePaySheet|sumByMonth:'October' | currency:'&#8377;':0}}</th>
                        <th>{{vm.employeePaySheet|sumByMonth:'November' | currency:'&#8377;':0}}</th>
                        <th>{{vm.employeePaySheet|sumByMonth:'December' | currency:'&#8377;':0}}</th>
                        <th>{{vm.employeePaySheet|sumByMonth:'January' | currency:'&#8377;':0}}</th>
                        <th>{{vm.employeePaySheet|sumByMonth:'February' | currency:'&#8377;':0}}</th>
                        <th>{{vm.employeePaySheet|sumByMonth:'March' | currency:'&#8377;':0}}</th>
                        <th>&nbsp;</th>
                    </tr>
                    <tr class="info">
                        <th>Download Payslip</th>
                        <th><a href="#"><i class="fa fa-file-pdf-o fa-5"></i></a></th>
                        <th><a href="#"><i class="fa fa-file-pdf-o fa-5"></i></a></th>
                        <th><a href="#"><i class="fa fa-file-pdf-o fa-5"></i></a></th>
                        <th><a href="#"><i class="fa fa-file-pdf-o fa-5"></i></a></th>
                        <th><a href="#"><i class="fa fa-file-pdf-o fa-5"></i></a></th>
                        <th><a href="#"><i class="fa fa-file-pdf-o fa-5"></i></a></th>
                        <th><a href="#"><i class="fa fa-file-pdf-o fa-5"></i></a></th>
                        <th><a href="#"><i class="fa fa-file-pdf-o fa-5"></i></a></th>
                        <th><a href="#"><i class="fa fa-file-pdf-o fa-5"></i></a></th>
                        <th><a href="#"><i class="fa fa-file-pdf-o fa-5"></i></a></th>
                        <th><a href="#"><i class="fa fa-file-pdf-o fa-5"></i></a></th>
                        <th><a href="#"><i class="fa fa-file-pdf-o fa-5"></i></a></th>
                        <th>&nbsp;</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
    <!-- /.col-lg-12 -->
</div>
<div class="row" ng-show="vm.employeePaySheet.length > 0 && selectedFinancialYear==currentYear">
    <div class="col-lg-12">
        <div class="form-group pull-right">
            <button type="submit" class="btn btn-success" ng-click="updateYearlyPaySheet()">Save</button>
        </div>
    </div>
</div>

<div class="alert alert-dismissible alert-danger" ng-show="vm.employeePaySheet.length <= 0 ">
    No Salary structure defined yet for the selected Financial Year.
</div>


